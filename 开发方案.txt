你是一个资深全栈工程师和技术负责人，
请你基于以下需求，设计并实现一个【可落地的网页服务】，
代码需要结构清晰、可维护、符合生产级标准，而不是简单示例。

====================
一、项目目标
====================

我要开发一个【内容账号数据分析 + AI 辅助决策】的网页服务。

核心业务流程是：
1. 用户登录
2. 上传固定格式的 Excel 数据（每一行代表一篇笔记）
3. 后端用 Python 对数据做分析（不是 AI）
4. 在分析结果基础上，调用大模型 API（如 DeepSeek，可替换）
5. 生成“好在哪 / 差在哪 / 如何优化”的文字建议
6. 前端展示结果，并支持导出分析报告

⚠️ 注意：
- 不是训练模型
- 不是把原始 Excel 直接发给 AI
- AI 只接收【结构化分析后的摘要数据】

====================
二、技术栈要求
====================

前端：
- Vue3
- TypeScript
- 组件库任选（Element Plus / Naive UI）
- Axios 请求后端 API

后端：
- Python
- FastAPI（优先）
- SQLAlchemy ORM
- 异步任务（Celery + Redis 或等价方案）
- PostgreSQL（或 MySQL）

AI：
- 使用外部大模型 API（以 DeepSeek 为例）
- 设计 Provider 抽象层，方便后期替换模型

部署：
- Docker / Docker Compose
- 前后端分离

====================
三、Excel 数据格式（示例）
====================

一行 = 一篇笔记，字段包括：

- data_id（唯一）
- 发文时间
- 发文链接
- 内容形式（如 图文）
- 发文类型（如 室内摆拍 / 户外穿搭）
- 素材来源
- 款式信息

指标字段：
- 7天阅读/播放
- 7天互动
- 7天好物访问
- 7天好物想要
- 14天阅读/播放
- 14天互动
- 14天好物访问
- 14天好物想要

要求：
- 允许数值为空（NaN）
- 后端需统一清洗处理
- 发文时间需转为 datetime

====================
四、后端核心模块设计
====================

1）用户与权限
- 登录 / 鉴权（JWT）
- 用户数据隔离（只能访问自己的数据）

2）数据集模块
- 上传 Excel
- 校验格式
- 保存原始文件
- 解析后入库（一行一篇笔记）

3）分析模块（非 AI）
程序需要完成：
- 缺失值处理
- 计算基准（均值 / 中位数 / 分位数）
- 按内容类型分组
- 异常识别（如 Top / Bottom / 分位阈值）
- 为每篇笔记生成结构化分析结果（JSON）

示例结构：
{
  "performance": "偏低",
  "problem_metrics": ["阅读", "好物访问"],
  "highlight_metrics": [],
  "compare_to_avg": {
    "阅读": "-60%",
    "互动": "-40%"
  }
}

4）AI 分析模块
- AI 不直接读取 Excel
- AI 只接收：
  - 单篇笔记的结构化分析结果
  - 内容描述字段（内容形式 / 发文类型 / 款式）
- 输出固定结构：
  - 一句话结论
  - 好在哪
  - 差在哪
  - 可执行优化建议（3-5条）

5）异步任务
- 数据解析任务
- 分析任务
- AI 生成任务
- 任务需支持状态与进度查询

====================
五、数据库设计建议
====================

users
datasets
posts（Excel 行）
analyses
analysis_results
ai_outputs
exports

请给出合理字段设计，并使用 SQLAlchemy ORM。

====================
六、API 设计
====================

请设计 RESTful API，包括但不限于：

- POST /datasets/upload
- GET /datasets
- POST /analyses
- GET /analyses/{id}
- GET /analyses/{id}/results
- POST /analyses/{id}/ai
- GET /posts/{post_id}
- POST /analyses/{id}/export

要求：
- 返回统一 JSON 格式
- 明确错误码和错误信息

====================
七、前端页面设计
====================

至少包含：

1）登录页
2）数据集列表页（上传 / 状态）
3）分析配置页
4）分析结果总览页（表格 + 筛选）
5）单篇笔记详情页（指标 + AI 解读）
6）导出结果页

====================
八、Prompt 与 AI 约束
====================

- 设计 Prompt 模板
- 强制 AI 按结构化格式输出
- 支持后续切换模型（DeepSeek / OpenAI 等）

====================
九、交付要求
====================

请输出：
- 后端项目结构
- 核心代码示例（不是伪代码）
- 数据库模型
- API 路由
- AI Provider 示例
- 前端页面结构说明

代码应具备可运行性，而不是仅供展示。

====================
请你按【真实项目】来完成，不要省略关键模块。
