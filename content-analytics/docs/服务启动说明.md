# 服务启动说明

## ✅ 服务状态

后端和前端服务已在后台启动！

## 🌐 访问地址

### 后端API服务
- **地址**: http://localhost:8088
- **API文档**: http://localhost:8088/api/docs (Swagger UI)
- **API文档（ReDoc）**: http://localhost:8088/api/redoc
- **健康检查**: http://localhost:8088/health

### 前端服务
- **地址**: http://localhost:5173 (Vite默认端口)
- 如果端口被占用，Vite会自动使用下一个可用端口（5174, 5175等）

## 🔍 检查服务状态

### 检查后端服务
```bash
curl http://localhost:8088/health
# 或
Invoke-WebRequest http://localhost:8088/health
```

### 检查前端服务
打开浏览器访问 http://localhost:5173

### 查看服务日志
服务在后台运行，如果需要查看日志，可以在新的终端窗口中：

**后端日志**：
- 查看运行 `python run.py` 的终端窗口

**前端日志**：
- 查看运行 `npm run dev` 的终端窗口

## 🛑 停止服务

### 停止后端服务
- 在运行后端服务的终端窗口中按 `Ctrl+C`

### 停止前端服务
- 在运行前端服务的终端窗口中按 `Ctrl+C`

## ⚠️ 注意事项

1. **数据库连接**：确保PostgreSQL数据库正在运行（默认端口5433）
2. **Redis连接**：如果使用Celery，需要Redis服务（默认端口6380）
3. **环境变量**：检查 `.env` 文件配置是否正确
4. **端口占用**：如果端口被占用，服务启动会失败

## 🧪 测试新功能

### 测试AI对话功能

1. **登录系统**
   - 访问 http://localhost:5173
   - 使用默认账号登录（如果已创建）

2. **创建对话**
   - 可以创建全局对话
   - 或在分析结果页面点击"与AI讨论"按钮

3. **发送消息**
   - 在对话页面输入消息
   - 测试流式响应（打字效果）

4. **测试分析结果讨论**
   - 上传数据集并创建分析
   - 查看笔记详情页
   - 点击"与AI讨论"按钮
   - 测试与AI讨论分析建议的功能

## 📝 API端点

### 对话相关API

- `POST /api/v1/chat/conversations` - 创建对话
- `GET /api/v1/chat/conversations` - 获取对话列表
- `GET /api/v1/chat/conversations/{id}` - 获取对话详情
- `POST /api/v1/chat/conversations/{id}/messages` - 发送消息（SSE流式）
- `POST /api/v1/chat/analysis-results/{id}/conversation` - 从分析结果创建对话

## 🔧 故障排查

### 后端服务无法启动
1. 检查数据库是否运行
2. 检查端口8088是否被占用
3. 查看错误日志

### 前端服务无法启动
1. 检查node_modules是否已安装：`npm install`
2. 检查端口5173是否被占用
3. 查看错误日志

### 数据库连接失败
1. 检查PostgreSQL服务是否运行
2. 检查DATABASE_URL配置
3. 检查数据库是否存在

---

**最后更新**：服务已启动


